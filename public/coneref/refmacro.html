<html>
  <head>
	  <title>Macros - Cone Reference</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	  <link rel="stylesheet" type="text/css" href="standard.css" />
	</head>
  <body>
		<div id="header">
			<a href="/"><div id="title">Cone</div></a>
			<div id="sub">Macros</div>
		</div>

    <div class="text">

	<p>Macros are similar to generic functions. They generate code inline wherever they are used.</p>
<pre>
// A macro that evaluates to the largest value
macro max[a, b]:
	imm aa = a
	imm bb = b
	if aa > bb {aa} else {bb}
	
// Now use it
fn tester(x i32, y i32):
  imm maxnbr = max(x, y)
</pre>
	<p>Wherever the macro is used, its call site is effectively replaced with
		the logic of the macro, substituting all arguments wherever the macro's parameters
		are specified. A macro's logic must be syntactically complete and valid.
		Macros are hygienic: any names defined in the macro are inaccessible to the call site,
		and vice versa.</p>
	<p>Notice that the 'max' macro captured its parameters into variables before using their values.
		This ensures each parameter's expression is only evaluated once.
		If this had not been done, both expressions would have been evaluated more than once,
		possibly to different values.</p>

	<p style="text-align: right; margin-top: 2em;">
		<a href="refconc.html"><img alt="_" src="next.png" /></a>
	</p>

	</div>
	</body>
</html>