<html>
  <head>
	  <title>While and Each Loops - Cone Reference</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	  <link rel="stylesheet" type="text/css" href="standard.css" />
	</head>
  <body>
		<div id="header">
			<a href="/"><div id="title">Cone</div></a>
			<div id="sub">While and Each Loops</div>
		</div>

    <div class="text">

	<p><span class="pre">while</span> and <span class="pre">each</span> are control flow blocks
	that make it possible to repetitively loop through execution of the same code.</p>
	
	<h2 id="while">while</h2>
	<p><span class="pre">while</span> offers a simple mechanism:
	it executes a block's statements over and over as long as its condition remains true.
	The condition is checked right away and every time after the block's statements have been performed.</p>
	<p>For example, this code logs the same message 5 times:</p>
<pre>
mut x = 1
while x&lt;=5
	$.log "DANGER, DANGER!! Will Robinson"
	x+=1
</pre>

	<h3>while suffix</h3>
	<p><span class="pre">while</span> may be used as a control suffix
	following a statement:</p>
<pre>
$$.show(list.extract) while !list.isEmpty
</pre>
	<p>is equivalent to:</p>
<pre>
while !list.isEmpty
	$$.show(list.extract) 
</pre>

	<h3 id="break">break and continue</h3>
	<p>Within a <span class="pre">while</span> block,
	<span class="pre">break</span> or <span class="pre">continue</span> statements may be used to 
	modify the loop's control flow behavior.</p>
	<p>The <span class="pre">break</span> statement, placed anywhere within a while block, 
	provides a way to stop performance of the 'while' block.
	<span class="pre">break</span> is typically accompanied with <span class="pre">if</span>:</p>
<pre>
while true    // without the break, this loop would run forever
	actor.walkstep  // will happen at least once
	break if keypress==0x20 // stops whenever the space bar is pressed
</pre>
	<p>By contrast, the <span class="pre">continue</span> statement 
	ignores all subsequent statements in the 'while' block, returning
	control back to the top of the while block where the conditional expression is re-evaluated.</p>
	
	<h2 id="each">each</h2>
	<p>Although <span class="pre">while</span> is sufficient to support any kind of loop,
		<span class="pre">each</span> offers a more convenient way to iterate over some sequence of values.
	 As with <span class="pre">while</span>, <span class="pre">each</span> may be used as a control prefix.
		<span class="pre">break</span> and <span class="pre">continue</span> are supported within an 
		<span class="pre">each</span> block.
	</p>

	<h3>Iterating over numbers</h3>
	<p>If one simply wants to iterate evenly over a range of integer or floating point numbers:</p>
<pre>
mut sum = 0
each x in 0 &lt;= 5 // iterates:  0, 1, 2, 3, 4, 5
  sum += x
sum                // 15
</pre>
	<p>Let's examine the elements of this <span class="pre">each</span> statement:</p>
	<ul>
		<li><span class="pre">x</span> is a new mutable variable that will successively hold a single
		number within a range of numbers.</li>
		<li><span class="pre">0</span> is the start of the range of numbers.
			x's first value in the loop will be 0.
			Each subsequent iteration of the loop increments x by 1.</li>
		<li><span class="pre"><= 5</span> indicates when the loop should stop, when x <= 5.
		That is, 5 will be the last value of x. After that, the loop ceases.</li>
	</ul>
	<p>One may use any of the four comparison operators:
		<span class="pre">&lt;</span>, <span class="pre">&lt;=</span>,
		<span class="pre">&gt;</span>, or <span class="pre">&gt;=</span>.
		With the latter two, the variable will be decremented instead of incremented.
	</p>
	<p>Optionally, the statement can specify a step value using <span class="pre">by</span>:</p>
<pre>
mut sum = 0
each x in 0 &lt;= 10 by 2 // iterates: 0, 2, 4, 6, 7, 10
	sum += x	
</pre>
	
	<p style="text-align: right; margin-top: 2em;">
		<a href="refcollect.html"><img alt="_" src="next.png" /></a>
	</p>

	</div>
	</body>
</html>