<html>
  <head>
	  <title>Co-routines - Cone Reference</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	  <link rel="stylesheet" type="text/css" href="standard.css" />
	</head>
  <body>
		<div id="header">
			<a href="/"><div id="title">Cone</div></a>
			<div id="sub">Co-routines</div>
		</div>

    <div class="text">

	<p style="margin-left: 40px;"><i>This is an interesting idea
		which may or may not end up in the language in something like this form.</i></p>
		
	<p>Co-routines are functions able to suspend their execution back to their caller 
		using the <span class="pre">yield</span> statement.
		The caller may later resume the co-routine where it left off.
		Information may be exchanged between the caller and co-routine
		at each yield and resumption.</p>
<pre>
// A type defining what might yield, and what is expected back
yieldenum Number
  even(i32) i32
  odd(i32) i32

// A co-routine that yields according to the protocol
fn gen(n i32) yields Number
  while n
    if n & 1
      n += yield odd(n)
    else
      n -= yield even(n)

// Make use of the co-routine
fn main()
  genner = executer.spawn(gen)
  loop
    match genner(10)
      even(n): TBD
      odd(n): TBD
      _: break
</pre>


	<p style="text-align: right; margin-top: 2em;">
		<a href="refmodule.html"><img alt="_" src="next.png" /></a>
	</p>

	</div>
	</body>
</html>